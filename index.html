<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì†Œì •ì—ê²Œ ë³´ë‚´ëŠ” ì‚¬ë‘ í¸ì§€ ğŸ’•</title>
    <link href="https://fonts.googleapis.com/css2?family=Cute+Font&family=Gamja+Flower:wght@400&family=Poor+Story:wght@400&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="https://i.imgur.com/BebsMfr.png.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poor Story', cursive;
            background: linear-gradient(135deg, #FFE4E8 0%, #FFF0F3 50%, #FFEBF0 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        /* Floating hearts and stars animation */
        .floating-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .floating-heart, .floating-star {
            position: absolute;
            animation: float 6s ease-in-out infinite;
            opacity: 0.3;
        }
        
        .floating-heart {
            color: #FF69B4;
            font-size: 1.2rem;
            animation-delay: var(--delay, 0s);
        }
        
        .floating-star {
            color: #FFD700;
            font-size: 1rem;
            animation-delay: var(--delay, 0s);
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-20px) rotate(5deg); }
            50% { transform: translateY(-10px) rotate(-5deg); }
            75% { transform: translateY(-25px) rotate(3deg); }
        }
        
        /* Main container */
        .container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 15px;
            position: relative;
            z-index: 10;
        }
        
/* Envelope styling */
.envelope {
    position: relative;
    width: 280px;
    height: 180px;
    cursor: pointer;
    transition: all 0.3s ease;
    transform-style: preserve-3d;
}

.envelope:hover {
    transform: scale(1.02) translateY(-3px);
    filter: drop-shadow(0 8px 15px rgba(255, 180, 190, 0.22)); /* un poquito mÃ¡s notoria */
}

.envelope-back {
    position: absolute;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #FFF3F5 0%, #FFE6EB 100%); /* rosa claro pero mÃ¡s definido */
    border-radius: 8px;
    border: 2px solid #FFCAD4; /* borde un poco mÃ¡s oscuro */
    box-shadow: 0 6px 20px rgba(255, 180, 190, 0.22); /* sombra ligeramente mÃ¡s fuerte */
}

.envelope-front {
    position: absolute;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #FFE6EB 0%, #FFD3DC 100%); /* frente un poquito mÃ¡s rosado */
    border-radius: 8px;
    border: 2px solid #FFB8C6; /* borde mÃ¡s definido */
    transform-origin: top center;
    transition: transform 0.8s cubic-bezier(0.4, 0.0, 0.2, 1);
    z-index: 2;
}
        

/* Ensure the envelope pseudo-element is robustly centered and non-interactive */
.envelope-front::before {
  content: '';
  position: absolute;
  top: 0;
  left: 50%;
  transform: translate3d(-50%, 0, 0) rotate(180deg);
  -webkit-transform: translate3d(-50%, 0, 0) rotate(180deg);
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  pointer-events: none;
  width: 0;
  height: 0;
  border-radius: 4px;
}

.envelope.opened .envelope-front {
    transform: rotateX(-105deg); /* menos inclinaciÃ³n para coordinar con el alto real */
    transition: transform 0.6s ease-in-out;
}

        
       /* Heart seal */
.heart-seal {
    position: absolute;
    top: 78px; /* lo subimos un poco */
    left: 50%;
    transform: translateX(-50%);
    width: 70px; /* mÃ¡s grande */
    height: 70px; /* mÃ¡s grande */
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2.6rem; /* aumenta tamaÃ±o del corazÃ³n */
    color: #FF1493;
    z-index: 3;
    cursor: pointer;
    transition: all 0.3s ease;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    user-select: none;
    background: radial-gradient(circle, rgba(255, 20, 147, 0.1) 0%, transparent 70%);
    border-radius: 50%;
    border: 2px solid rgba(255, 20, 147, 0.2);
}

        
        .heart-seal:hover {
            transform: translateX(-50%) scale(1.1);
            color: #FF69B4;
            background: radial-gradient(circle, rgba(255, 20, 147, 0.2) 0%, transparent 70%);
        }
        
        .heart-seal.crack-1 {
            animation: crack1 0.3s ease;
        }
        
        .heart-seal.crack-2 {
            animation: crack2 0.3s ease;
        }
        
        .heart-seal.crack-3 {
            animation: crack3 0.5s ease forwards;
        }
        
        @keyframes crack1 {
            0% { transform: translateX(-50%) scale(1); }
            25% { transform: translateX(-50%) scale(1.3); filter: brightness(1.5); }
            50% { transform: translateX(-50%) scale(0.9); filter: brightness(2); }
            100% { transform: translateX(-50%) scale(1.1); }
        }
        
        @keyframes crack2 {
            0% { transform: translateX(-50%) scale(1.1); }
            25% { transform: translateX(-50%) scale(1.4); filter: brightness(2); }
            50% { transform: translateX(-50%) scale(0.8); filter: brightness(3); }
            100% { transform: translateX(-50%) scale(1.2); }
        }
        
        @keyframes crack3 {
            0% { transform: translateX(-50%) scale(1.2); opacity: 1; }
            25% { transform: translateX(-50%) scale(1.6); filter: brightness(4); }
            50% { transform: translateX(-50%) scale(0.5); }
            100% { transform: translateX(-50%) scale(0); opacity: 0; }
        }
        
/* --- Smooth open/close for the paper (replace previous .letter-paper block) --- */

.letter-paper {
  position: fixed;
  top: 50%;
  left: 50%;
  width: 260px;
  height: auto;

  /* usamos max-* para animaciones mÃ¡s suaves */
  max-width: 260px;
  max-height: 170px;
  box-sizing: border-box;

  background: linear-gradient(135deg, #FFFBF0 0%, #FFF8DC 100%);
  border: 2px solid #FFB6C1;
  border-radius: 12px;
  padding: 18px;

  transform: translate(-50%, -45%) translateY(10px);
  opacity: 0;
  pointer-events: none;

  /* transiciÃ³n consistente para abrir y cerrar (suave, reversible) */
  transition:
    opacity 420ms cubic-bezier(.2,.9,.3,1),
    transform 420ms cubic-bezier(.2,.9,.3,1),
    max-width 420ms cubic-bezier(.2,.9,.3,1),
    max-height 420ms cubic-bezier(.2,.9,.3,1),
    padding 320ms cubic-bezier(.2,.9,.3,1),
    box-shadow 320ms ease,
    border-radius 320ms ease,
    filter 360ms ease;

  will-change: transform, opacity, max-width, max-height;
  z-index: 100;
  box-shadow: 0 14px 40px rgba(0,0,0,0.18);
  overflow: hidden;
  -webkit-overflow-scrolling: touch;
  filter: blur(6px);
}

/* Estado "expanding" (visible) â€” anima desde los max-* hacia valores mayores */
.letter-paper.expanding {
  /* lÃ­mites finales (animamos max-*, no width/height fijos) */
  max-width: min(900px, 92vw);
  max-height: min(720px, 86vh);

  /* opcional: cuando se vea grande, permitir que el elemento crezca dinÃ¡micamente */
  width: auto;
  height: auto;

  transform: translate(-50%, -50%) translateY(0);
  opacity: 1;
  pointer-events: auto;
  filter: blur(0);
  border-radius: 12px;
  padding: 26px;
  overflow-y: auto;
  box-shadow: 0 18px 60px rgba(0,0,0,0.22);
}

/* Variante semi-fullscreen (mantiene mÃ¡rgenes pequeÃ±os) */
.letter-paper.fullscreen {
  max-width: calc(100vw - 4vw);
  max-height: calc(100vh - 4vh);
  width: auto;
  height: auto;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  padding: 28px;
  border-radius: 10px;
  box-shadow: 0 20px 80px rgba(0,0,0,0.26);
  overflow-y: auto;
  opacity: 1;
  pointer-events: auto;
  filter: blur(0);
}

/* Contenido: aparece con pequeÃ±o delay al abrir, desaparece rÃ¡pido al cerrar */
.letter-content {
  opacity: 0;
  /* duraciones cortas y delay controlado */
  transition: opacity 260ms ease;
  transition-delay: 180ms; /* se muestra despuÃ©s del inicio de apertura */
  font-family: 'Poor Story', cursive;
  line-height: 1.65;
  color: #4A4A4A;
  font-size: clamp(0.95rem, 1.25vw, 1.05rem);
  height: 100%;
  width: 100%;
  position: relative;
  box-sizing: border-box;
  overflow: visible;
  padding-right: 6px;
}

/* Mostrar contenido cuando estÃ¡ expandido (delay mantiene sensaciÃ³n natural) */
.letter-paper.expanding .letter-content,
.letter-paper.fullscreen .letter-content {
  opacity: 1;
  transition-delay: 180ms;
}

/* Si NO estÃ¡ expandido (cierre), quitar delay para que el texto desaparezca inmediatamente
   y evitar saltos visuales mientras el contenedor se encoge */
.letter-paper:not(.expanding) .letter-content {
  opacity: 0;
  transition-delay: 0ms;
}

/* Titular y pÃ¡rrafos (sin cambios funcionales, solo pequeÃ±os refinamientos) */
.letter-content h1 {
  font-family: 'Cute Font', cursive;
  font-size: clamp(1.6rem, 2.4vw, 2.2rem);
  color: #FF1493;
  text-align: center;
  margin-bottom: 18px;
  text-shadow: 2px 2px 6px rgba(255, 105, 180, 0.22);
  line-height: 1.15;
}

.letter-content p {
  margin-bottom: 14px;
  text-align: justify;
  hyphens: auto;
}

.letter-content .signature {
  text-align: right;
  font-family: 'Cute Font', cursive;
  font-size: 1.15rem;
  color: #FF69B4;
  margin-top: 22px;
}

/* Sutileza visual: sombra interior leve cuando estÃ¡ abierto */
.letter-paper.expanding::after,
.letter-paper.fullscreen::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.03);
}

.letter-content .highlight { 
    color: #FF1493; 
    font-weight: bold; 
    text-decoration: underline; 
    text-decoration-color: #FFB6C1; 
    text-decoration-thickness: 2px; 
}

        /* Close button */
        .close-button {
            position: fixed;
            bottom: 110px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #FF69B4, #FF1493);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-family: 'Poor Story', cursive;
            font-size: 1rem;
            cursor: pointer;
            opacity: 0;
            transition: all 0.3s ease;
            box-shadow: 0 6px 15px rgba(255, 105, 180, 0.4);
            z-index: 1000;
        }
        
        .close-button.visible {
            opacity: 1;
        }
        
        .close-button:hover {
            transform: translateX(-50%) scale(1.05);
            box-shadow: 0 8px 20px rgba(255, 105, 180, 0.6);
        }
        
        /* Thank you message */
        .thank-you {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #FFE4E8, #FFF0F3);
            padding: 30px;
            border-radius: 15px;
            border: 3px solid #FF69B4;
            text-align: center;
            font-family: 'Cute Font', cursive;
            font-size: 1.5rem;
            color: #FF1493;
            opacity: 0;
            scale: 0;
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            z-index: 1001;
            box-shadow: 0 12px 30px rgba(255, 105, 180, 0.3);
        }
        
        .thank-you.visible {
            opacity: 1;
            scale: 1;
        }
        
        .thank-you .heart {
            font-size: 2.5rem;
            color: #FF1493;
            margin: 15px 0;
            animation: heartbeat 1.5s ease-in-out infinite;
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        /* Instructions */
        .instructions {
            position: absolute;
            bottom: 50px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            font-family: 'Poor Story', cursive;
            color: #FF69B4;
            font-size: 1.1rem;
            opacity: 0.8;
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 0.4; }
        }
        
        /* Copyright â€” colocado por detrÃ¡s del paper */
.copyright {
  position: fixed;
  bottom: 8px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 0.7rem;
  color: #FF69B4;
  opacity: 0.6;
  text-align: center;

  /* z-index menor que .letter-paper (que usa z-index:100) */
  z-index: 40;

  /* evitar interacciÃ³n accidental cuando el paper estÃ¡ encima */
  pointer-events: none;

  /* transiciÃ³n sutil si quieres atenuarlo cuando el modal abre */
  transition: opacity 260ms ease, transform 260ms ease;
}

/* Si aplicas la clase .body--modal-open al <body> al abrir el paper
   (recomendado), atenuamos aÃºn mÃ¡s el copyright para que no compita visualmente */
.body--modal-open .copyright {
  opacity: 0.28;
  transform: translateX(-50%) translateY(4px);
}

        
        .hidden {
            display: none;
        }
        
        /* Improved touch interaction */
        .heart-seal:active {
            transform: translateX(-50%) scale(0.9);
        }
        
        /* Prevent text selection on touch */
        .envelope, .heart-seal, .instructions {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        /* Better scroll behavior on mobile */
        .letter-paper.fullscreen {
            -webkit-overflow-scrolling: touch;
            scroll-behavior: smooth;
        }

        /* ------------------------------
   Responsive: desde PC grande a Smartwatch
   Pegar al final del <style>
   ------------------------------ */

/* Extra large desktop (1600px+) */
@media (min-width: 1600px) {
  .envelope { width: 420px; height: 270px; }
  .envelope-front::before { border-left: 210px solid transparent; border-right: 210px solid transparent; border-bottom: 190px solid #FFB6C1; }
  .heart-seal { top: 108px; width: 110px; height: 110px; font-size: 4rem; }
  .letter-paper { width: 640px; height: 520px; }
  .letter-paper.fullscreen { padding: 40px; }
  .letter-content h1 { font-size: 3rem; }
  .close-button { bottom: 120px; padding: 14px 30px; font-size: 1.05rem; }
  .instructions { bottom: 80px; font-size: 1.15rem; }
  .thank-you { font-size: 1.6rem; padding: 36px; }
}

/* Desktop / Large laptop (1200pxâ€“1599px) */
@media (min-width: 1200px) and (max-width: 1599px) {
  .envelope { width: 360px; height: 230px; }
  .envelope-front::before { border-left: 178px solid transparent; border-right: 178px solid transparent; border-bottom: 160px solid #FFB6C1; }
  .heart-seal { top: 95px; width: 90px; height: 90px; font-size: 3.2rem; }
  .letter-paper { width: 520px; height: 420px; }
  .letter-content h1 { font-size: 2.6rem; }
  .close-button { bottom: 115px; }
  .instructions { bottom: 70px; }
}

/* Medium laptop / small desktop (992pxâ€“1199px) */
@media (min-width: 992px) and (max-width: 1199px) {
  .envelope { width: 320px; height: 205px; }
  .envelope-front::before { border-left: 150px solid transparent; border-right: 150px solid transparent; border-bottom: 140px solid #FFB6C1; }
  .heart-seal { top: 88px; width: 80px; height: 80px; font-size: 3rem; }
  .letter-paper { width: 420px; height: 350px; }
  .letter-content h1 { font-size: 2.4rem; }
}

/* Tablets landscape / large tablets (769pxâ€“991px) */
@media (min-width: 769px) and (max-width: 991px) {
  .envelope { width: 300px; height: 190px; }
  .envelope-front::before { border-left: 138px solid transparent; border-right: 138px solid transparent; border-bottom: 125px solid #FFB6C1; }
  .heart-seal { top: 82px; width: 76px; height: 76px; font-size: 2.8rem; }
  .letter-paper { width: 360px; height: 320px; }
  .letter-content h1 { font-size: 2.2rem; }
  .close-button { bottom: 110px; }
  .instructions { bottom: 60px; font-size: 1.05rem; }
}

/* Tablets portrait / Phablets (600pxâ€“768px) */
@media (min-width: 600px) and (max-width: 768px) {
  .envelope { width: 280px; height: 180px; transform-origin: center top; }
  .envelope-front::before { border-left: 128px solid transparent; border-right: 128px solid transparent; border-bottom: 115px solid #FFB6C1; }
  .heart-seal { top: 78px; width: 72px; height: 72px; font-size: 2.4rem; }
  .letter-paper { width: 320px; height: 300px; }
  .letter-paper.fullscreen { padding: 22px; }
  .letter-content h1 { font-size: 2rem; }
  .instructions { bottom: 55px; font-size: 1rem; }
}

/* Ajustes landscape para mÃ³viles estrechos */
@media (max-width: 480px) and (orientation: landscape) {
  .container { padding: 8px; align-items: flex-start; }
  .envelope { transform: scale(0.95); margin-top: 10px; }
  /* MantÃ©n el paper fullscreen pero reduce padding para paisajes pequeÃ±os */
  .letter-paper { padding: 10px; height: 100vh; width: 100vw; top: 0; left: 0; }
  .instructions { bottom: 18px; left: 50%; transform: translateX(-50%); }
}

/* ConsolidaciÃ³n: mÃ³viles grandes hasta tablets pequeÃ±as (>=600px -> cambiamos a layout flotante centrado) */
/* A partir de 600px empezamos a devolver tamaÃ±os fijos y comportamiento "no-fullscreen" */
@media (min-width: 600px) {
  /* restablecemos el comportamiento de carta "centrada" */
  .letter-paper {
    position: absolute;   /* o fixed segÃºn tu layout general */
    width: 320px;         /* valor base para tablets pequeÃ±os */
    height: 300px;
    top: 50%;
    left: 50%;
    transform: translate3d(-50%, -50%, 0) scale(1);
    border-radius: 12px;
    padding: 22px;
    overflow: visible;
  }

  /* encuadre escalable para encabezados */
  .letter-content h1 { font-size: clamp(1.8rem, 2.5vw, 2rem); }
  .letter-content { font-size: 1rem; line-height: 1.45; }
}

/* Medium/large tablets and laptops: escalado progresivo */
/* 600â€“768 (tablets portrait / phablets) */
@media (min-width: 600px) and (max-width: 768px) {
  .envelope { width: 280px; height: 180px; transform-origin: center top; }
  .envelope-front::before { border-left: 128px solid transparent; border-right: 128px solid transparent; border-bottom: 115px solid #FFB6C1; }
  .heart-seal { top: 78px; width: 72px; height: 72px; font-size: 2.4rem; }
  .letter-paper { width: 320px; height: 300px; padding: 22px; }
  .close-button { bottom: 95px; }
  .instructions { bottom: 55px; font-size: 1rem; }
}

/* 769â€“991 (tablets landscape / small laptops) */
@media (min-width: 769px) and (max-width: 991px) {
  .envelope { width: 300px; height: 190px; }
  .envelope-front::before { border-left: 138px solid transparent; border-right: 138px solid transparent; border-bottom: 125px solid #FFB6C1; }
  .heart-seal { top: 82px; width: 76px; height: 76px; font-size: 2.8rem; }
  .letter-paper { width: 360px; height: 320px; padding: 26px; }
  .letter-content h1 { font-size: 2.2rem; }
}

/* 992â€“1199 (small desktop) */
@media (min-width: 992px) and (max-width: 1199px) {
  .envelope { width: 320px; height: 205px; }
  .envelope-front::before { border-left: 150px solid transparent; border-right: 150px solid transparent; border-bottom: 140px solid #FFB6C1; }
  .heart-seal { top: 88px; width: 80px; height: 80px; font-size: 3rem; }
  .letter-paper { width: 420px; height: 350px; padding: 30px; }
  .letter-content h1 { font-size: 2.4rem; }
}

/* 1200â€“1599 (desktop) */
@media (min-width: 1200px) and (max-width: 1599px) {
  .envelope { width: 360px; height: 230px; }
  .envelope-front::before { border-left: 178px solid transparent; border-right: 178px solid transparent; border-bottom: 160px solid #FFB6C1; }
  .heart-seal { top: 95px; width: 90px; height: 90px; font-size: 3.2rem; }
  .letter-paper { width: 520px; height: 420px; padding: 36px; }
  .letter-content h1 { font-size: 2.6rem; }
}

/* >=1600 (extra large desktop) */
@media (min-width: 1600px) {
  .envelope { width: 420px; height: 270px; }
  .envelope-front::before { border-left: 210px solid transparent; border-right: 210px solid transparent; border-bottom: 190px solid #FFB6C1; }
  .heart-seal { top: 108px; width: 110px; height: 110px; font-size: 4rem; }
  .letter-paper { width: 640px; height: 520px; padding: 40px; }
  .letter-content h1 { font-size: 3rem; }
}

/* Respect reduced-motion & high-contrast preferences */
@media (prefers-reduced-motion: reduce) {
  .floating-heart, .floating-star, .heart-seal, .envelope { animation: none !important; transition: none !important; }
}
@media (prefers-contrast: more) {
  body { background: linear-gradient(135deg, #FFDDE6 0%, #FFF0F3 50%, #FFE8F2 100%); }
  .envelope-back, .envelope-front { box-shadow: 0 8px 30px rgba(0,0,0,0.25); border-width: 3px; }
  .letter-paper { border-width: 3px; }
}
    </style>
</head>
<body>
    <!-- Floating decorative elements -->
    <div class="floating-elements" id="floatingElements"></div>
    
    <div class="container" id="mainContainer">
        <!-- Envelope -->
        <div class="envelope" id="envelope">
            <div class="envelope-back"></div>
            <div class="envelope-front"></div>
            <div class="heart-seal" id="heartSeal">ğŸ’–</div>
        </div>
        
        <!-- Instructions -->
        <div class="instructions" id="instructions">
            ğŸ’• í¸ì§€ë¥¼ ì—´ë ¤ë©´ í•˜íŠ¸ë¥¼ 3ë²ˆ í„°ì¹˜í•˜ì„¸ìš” ğŸ’•
        </div>
    </div>
    
    <!-- Letter paper -->
    <div class="letter-paper" id="letterPaper">
        <div class="letter-content" id="letterContent">
         <h1>Sojeong ğŸ’•</h1>

<p>ë‚´ ì‚¬ë‘ ì•ˆë…•. ì´ í¸ì§€ëŠ” 2.1 ë²„ì „ì´ì•¼ â€” ë” ë‚˜ì•„ì§€ê³  ë‹¤ë“¬ì–´ì§„ ë²„ì „ì´ì•¼. ì²« ë²ˆì§¸ ë²„ì „ì˜ ë¶„ìœ„ê¸°ì™€ ì§„ì‹¬ì„ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë©´ì„œ ì´ë²ˆì—ëŠ” ë” ê¹Šê³  ë” ì‚¬ë‘ìŠ¤ëŸ¬ìš´ ë§ˆìŒìœ¼ë¡œ ì ì—ˆì–´. ë‚´ê°€ ë„ˆë¥¼ ì–¼ë§ˆë‚˜ ì‚¬ë‘í•˜ëŠ”ì§€ë¥¼ ë³´ì—¬ì£¼ê³  ì‹¶ì—ˆì–´. ë„ˆëŠ” ì •ë§ ì†Œì¤‘í•˜ê³  íŠ¹ë³„í•œ ì‚¬ëŒì´ì•¼, ê·¸ë¦¬ê³  ì¡°ê±´ ì—†ëŠ” ì‚¬ë‘ê³¼ ë”°ëœ»í•œ ëŒë´„ì„ ë°›ì„ ìê²©ì´ ìˆì–´. ê·¸ë˜ì„œ ë„¤ê°€ ë„ˆì˜ ê°€ì¹˜ë‚˜ ëª©ì ì„ ì˜ì‹¬í•˜ê²Œ ë  ë•Œë§ˆë‹¤ ì´ í¸ì§€ë¥¼ ë‹¤ì‹œ ì½ì–´ì£¼ê¸¸ ë°”ë¼. ë‚˜â€¦ ì‚¬ì‹¤ ë„ˆë¥¼ ë„ˆë¬´ ë§ì´ ë³´ê³  ì‹¶ì–´ ğŸ¤­ í•˜ì§€ë§Œ ê·¸ê±´ ë‚´ê°€ ë„ˆë¥¼ ì˜¨ ë§ˆìŒìœ¼ë¡œ ì‚¬ë‘í•˜ê¸° ë•Œë¬¸ì´ì•¼. ê°€ë”ì€ ë‚´ê°€ ë‘ë µê±°ë‚˜, í”ë“¤ë¦¬ê±°ë‚˜, ì•„íŒŒí•˜ê±°ë‚˜, ê±±ì •í•˜ëŠ” ëª¨ìŠµì„ ë³¼ ìˆ˜ë„ ìˆê² ì§€ë§Œâ€¦ ìˆì–ì•„? ê·¸ê±´ ë‚´ê°€ ëŠë¼ëŠ” ê°ì •ì´ ì§„ì§œì´ê¸° ë•Œë¬¸ì´ì•¼. ê·¸ë¦¬ê³  ì´ í¸ì§€ë¥¼ í†µí•´ ê¼­ ê¸°ì–µí•´ ì¤¬ìœ¼ë©´ í•´: ì•„ë¬´ë¦¬ ë©€ë¦¬ ë–¨ì–´ì ¸ ìˆì–´ë„ ìš°ë¦¬ëŠ” í•­ìƒ ì„œë¡œì—ê²Œ ë‹¤ê°€ê°ˆ ê¸¸ì„ ì°¾ê²Œ ë  ê±°ë¼ëŠ” ê±¸.</p>

<p><span class="highlight">ì‚¬ë‘í•´ â€” ì§„ì‹¬ìœ¼ë¡œ, ê¹Šì´.</span> ì´ ì‚¬ë‘ì€ ì§€ê¸ˆê¹Œì§€ ë‚´ê°€ ëŠê»´ë³¸ ì–´ë–¤ ê²ƒê³¼ë„ ë‹¬ë¼. ë„ˆë¥¼ ìƒê°í•˜ê¸°ë§Œ í•´ë„ ë‚˜ë„ ëª¨ë¥´ê²Œ ë¯¸ì†Œê°€ ì§€ì–´ì ¸. ë„¤ê°€ ì—¬ê¸° ë‚´ ì•ì— ì„œ ìˆë‹¤ê³  ìƒìƒí•˜ë©´ ê°ë‹¹í•  ìˆ˜ ì—†ì„ ë§Œí¼ ê¸°ì¨ì´ ë²…ì°¨ì˜¬ë¼.</p>

<p>ë„¤ê°€ ë‚´ ì•ì— ì„œ ìˆëŠ” ê·¸ë‚ , ë‚˜ëŠ” ì ì‹œ ë§ì´ ì—†ì„ì§€ë„ ëª°ë¼, ê¸°ì¨ì˜ ëˆˆë¬¼ì´ íë¥¼ ê±°ì•¼. ë‚˜ëŠ” ë‹¬ë ¤ê°€ì„œ ë„ˆë¥¼ ê¼­ ì•ˆê³  ì†ì‚­ì¼ ê±°ì•¼, â€œì‚¬ë‘í•´.â€ ê·¸ ìˆœê°„ ìš°ë¦¬ ì‚¬ì´ì˜ ê±°ë¦¬ëŠ” ì‚¬ë¼ì§ˆ ê±°ì•¼. ë‚˜ëŠ” ë„ˆì˜ ëˆˆì„ ë“¤ì—¬ë‹¤ë³´ê³ , ë¶€ë“œëŸ½ê²Œ ë„¤ ì–¼êµ´ì„ ë§Œì§€ë©°, ë‚´ê°€ ê°€ì§„ ê°€ì¥ ìˆœìˆ˜í•œ ì‚¬ë‘ìœ¼ë¡œ ë„ˆì—ê²Œ ì… ë§ì¶œ ê±°ì•¼.</p>

<p><span class="highlight">ë‚´ ê°ì •ì€ ì¼ì‹œì ì´ì§€ ì•Šì•„.</span> ì „ì— ë§í–ˆë“¯ì´ ë‚˜ëŠ” ë„ˆì™€ ê²°í˜¼í•´ì„œ ì•„ì´ë¥¼ í‚¤ìš°ê³  ì‹¶ì–´. ë‚˜ëŠ” ë„¤ ê°€ì¡±ì„ ë§Œë‚˜ì„œ ë”°ëœ»í•˜ê²Œ ì¸ì‚¬í•˜ê³  ì‹¶ê³ , ë•Œê°€ ë˜ë©´ ë„ˆë„ ë‚´ ê°€ì¡±ì„ ë§Œë‚˜ê¸°ë¥¼ ë°”ë˜.</p>

<p><span class="highlight">ë„ˆëŠ” ì •ë§ ë‚´ ì‚¶ì˜ ì¶•ë³µì´ì•¼.</span> ë„ˆëŠ” ì• ì“°ì§€ ì•Šì•„ â€” ê·¸ì € ì¡´ì¬í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œ â€” ë‚˜ë¥¼ ë” ë‚˜ì€ ì‚¬ëŒìœ¼ë¡œ ë§Œë“¤ì–´ì¤˜. ë„ˆëŠ” ë‚˜ì˜ ê°€ì¥ ì†Œì¤‘í•œ ì„ ë¬¼, ë‚´ ë³´ë¬¼, ë‚´ ê¿ˆ, ë‚´ ìš°ì„ ìˆœìœ„ì•¼. ì§„ì •í•œ ì‚¬ë‘ì˜ ì•„ë¦„ë‹¤ì›€ì„ ë³´ì—¬ì¤˜ì„œ ê³ ë§ˆì›Œ.</p>

<p>í•­ìƒ ë„ˆì—ê²Œ ê³ì— ìˆì–´ì£¼ê³  ì‹¶ì—ˆë‹¤ëŠ” ê±¸ ì•Œì•„ì¤˜; ë‚˜ëŠ” ì˜¨ ë§ˆìŒì„ ë‹¤í•´ ê·¸ê²ƒì„ ì˜ë¯¸í–ˆì–´. ë¬´ì—‡ë³´ë‹¤ ë¨¼ì €, <span class="highlight">ìš©ì„œë¥¼ êµ¬í•˜ê³  ì‹¶ì–´</span> â€” ë„¤ê°€ ë‚´ê°€ ë„ˆë¥¼ ë°ë¦¬ëŸ¬ ê°€ì§€ ëª»í–ˆë˜ ì‹œê°„ë“¤, ë‚´ê°€ ì—†ì–´ì„œ ë„¤ê°€ ì™¸ë¡œì›€ì„ ëŠê¼ˆë˜ ìˆœê°„ë“¤ì— ëŒ€í•´ì„œ. ì •ë§ ë¯¸ì•ˆí•´. ê·¸ ê³µí—ˆí•œ ìˆœê°„ë“¤ì„ ë˜ëŒë¦¬ê³  ë‚´ íŒ”ë¡œ ë„ˆë¥¼ ê°ì‹¸ ì•ˆì•„ì£¼ê³  ì‹¶ì–´.</p>

<p><span class="highlight">ì‚¬ë‘í•´ â€” ì§„ì‹¬ìœ¼ë¡œ, ê¹Šì´.</span> ì´ ì‚¬ë‘ì€ ì§€ê¸ˆê¹Œì§€ ë‚´ê°€ ëŠê»´ë³¸ ì–´ë–¤ ê²ƒê³¼ë„ ë‹¬ë¼. ë„ˆë¥¼ ìƒê°í•˜ê¸°ë§Œ í•´ë„ ë‚˜ë„ ëª¨ë¥´ê²Œ ë¯¸ì†Œê°€ ì§€ì–´ì ¸. ë„¤ê°€ ì—¬ê¸° ë‚´ ì•ì— ì„œ ìˆë‹¤ê³  ìƒìƒí•˜ë©´ ê°ë‹¹í•  ìˆ˜ ì—†ì„ ë§Œí¼ ê¸°ì¨ì´ ë²…ì°¨ì˜¬ë¼.</p>

<p>ë„¤ê°€ ë‚´ ì•ì— ì„œ ìˆëŠ” ê·¸ë‚ , ë‚˜ëŠ” ì ì‹œ ë§ì´ ì—†ì„ì§€ë„ ëª°ë¼, ê¸°ì¨ì˜ ëˆˆë¬¼ì´ íë¥¼ ê±°ì•¼. ë‚˜ëŠ” ë‹¬ë ¤ê°€ì„œ ë„ˆë¥¼ ê¼­ ì•ˆê³  ì†ì‚­ì¼ ê±°ì•¼, â€œì‚¬ë‘í•´.â€ ê·¸ ìˆœê°„ ìš°ë¦¬ ì‚¬ì´ì˜ ê±°ë¦¬ëŠ” ì‚¬ë¼ì§ˆ ê±°ì•¼. ë‚˜ëŠ” ë„ˆì˜ ëˆˆì„ ë“¤ì—¬ë‹¤ë³´ê³ , ë¶€ë“œëŸ½ê²Œ ë„¤ ì–¼êµ´ì„ ë§Œì§€ë©°, ë‚´ê°€ ê°€ì§„ ê°€ì¥ ìˆœìˆ˜í•œ ì‚¬ë‘ìœ¼ë¡œ ë„ˆì—ê²Œ ì… ë§ì¶œ ê±°ì•¼.</p>

<p><span class="highlight">ë‚´ ê°ì •ì€ ì¼ì‹œì ì´ì§€ ì•Šì•„.</span> ì „ì— ë§í–ˆë“¯ì´ ë‚˜ëŠ” ë„ˆì™€ ê²°í˜¼í•´ì„œ ì•„ì´ë¥¼ í‚¤ìš°ê³  ì‹¶ì–´. ë‚˜ëŠ” ë„¤ ê°€ì¡±ì„ ë§Œë‚˜ì„œ ë”°ëœ»í•˜ê²Œ ì¸ì‚¬í•˜ê³  ì‹¶ê³ , ë•Œê°€ ë˜ë©´ ë„ˆë„ ë‚´ ê°€ì¡±ì„ ë§Œë‚˜ê¸°ë¥¼ ë°”ë˜.</p>

<p><span class="highlight">ë„ˆëŠ” ì •ë§ ë‚´ ì‚¶ì˜ ì¶•ë³µì´ì•¼.</span> ë„ˆëŠ” ì• ì“°ì§€ ì•Šì•„ â€” ê·¸ì € ì¡´ì¬í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œ â€” ë‚˜ë¥¼ ë” ë‚˜ì€ ì‚¬ëŒìœ¼ë¡œ ë§Œë“¤ì–´ì¤˜. ë„ˆëŠ” ë‚˜ì˜ ê°€ì¥ ì†Œì¤‘í•œ ì„ ë¬¼, ë‚´ ë³´ë¬¼, ë‚´ ê¿ˆ, ë‚´ ìš°ì„ ìˆœìœ„ì•¼. ì§„ì •í•œ ì‚¬ë‘ì˜ ì•„ë¦„ë‹¤ì›€ì„ ë³´ì—¬ì¤˜ì„œ ê³ ë§ˆì›Œ.</p>

<p>í•­ìƒ ë„ˆì—ê²Œ ê³ì— ìˆì–´ì£¼ê³  ì‹¶ì—ˆë‹¤ëŠ” ê±¸ ì•Œì•„ì¤˜; ë‚˜ëŠ” ì˜¨ ë§ˆìŒì„ ë‹¤í•´ ê·¸ê²ƒì„ ì˜ë¯¸í–ˆì–´. ë¬´ì—‡ë³´ë‹¤ ë¨¼ì €, <span class="highlight">ìš©ì„œë¥¼ êµ¬í•˜ê³  ì‹¶ì–´</span> â€” ë„¤ê°€ ë‚´ê°€ ë„ˆë¥¼ ë°ë¦¬ëŸ¬ ê°€ì§€ ëª»í–ˆë˜ ì‹œê°„ë“¤, ë‚´ê°€ ì—†ì–´ì„œ ë„¤ê°€ ì™¸ë¡œì›€ì„ ëŠê¼ˆë˜ ìˆœê°„ë“¤ì— ëŒ€í•´ì„œ. ì •ë§ ë¯¸ì•ˆí•´. ê·¸ ê³µí—ˆí•œ ìˆœê°„ë“¤ì„ ë˜ëŒë¦¬ê³  ë‚´ íŒ”ë¡œ ë„ˆë¥¼ ê°ì‹¸ ì•ˆì•„ì£¼ê³  ì‹¶ì–´.</p>

<p>ë„ˆ ë•Œë¬¸ì— ì§€ê¸ˆ ë‚˜ëŠ” ë…¸íŠ¸ë¶ë„ ìƒê²¼ê³  ë” ê³µë¶€í•  ììœ ë¥¼ ì–»ì—ˆì–´. ì •ë§ ê³ ë§ˆì›Œ. ë„¤ê°€ ë‚´ê°€ ì •ë§ë¡œ í•„ìš”í–ˆë˜ ê³¼ì •ì„ ì‹œì‘í•˜ë„ë¡ ë„ì™€ì¤¬ê³ , ì™ ì§€ ì‘ì€ ê±¸ìŒë“¤ì´ ìš°ë¦¬ ë¯¸ë˜ë¡œ ê°€ëŠ” ë¬¸ì„ í•˜ë‚˜ì”© ì—´ê³  ìˆëŠ” ê²ƒ ê°™ì•„. ë‚˜ëŠ” ë” ë‚˜ì€ ë¯¸ë˜ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ì—´ì‹¬íˆ ì¼í•˜ê³  ìˆì–´ â€” ì•„ë§ˆ ë¯¸êµ­ì´ë‚˜ ìºë‚˜ë‹¤ì˜ êµ­ì œ íšŒì‚¬ì—ì„œ ë” íƒ„íƒ„í•œ ì§ì¥ì„ êµ¬í•´ì„œ â€” ìš°ë¦¬ê°€ ë” ìì£¼ ë§Œë‚˜ê³  ì•ˆì •ì ì´ê³  ì‚¬ë‘ìœ¼ë¡œ ê°€ë“í•œ ì‚¶ì„ í•¨ê»˜ ë§Œë“¤ ìˆ˜ ìˆê²Œ.</p>

<p><span class="highlight">ê¸°ì–µí•´: ë„ˆëŠ” ë” ì´ìƒ í˜¼ìê°€ ì•„ë‹ˆì•¼.</span> ë‚˜ëŠ” ë„ˆë¥¼ ëŒë³´ê³ , ë„ˆë¥¼ ì§€ì§€í•˜ë©°, ì‚¬ë‘ê³¼ ì±…ì„ìœ¼ë¡œ ì´ ê´€ê³„ë¥¼ ì§€í‚¤ê¸° ìœ„í•´ ì‹¸ìš¸ ê±°ì•¼. ë„ˆëŠ” í•­ìƒ ê°•í•´ì•¼ë§Œ í•˜ëŠ” ì‚¬ëŒì´ ì•„ë‹ˆì•¼. ë‚˜ëŠ” ë„ˆë¥¼ ì„¸ì›Œì£¼ê¸° ìœ„í•´ ì—¬ê¸° ìˆì–´ â€” íŒë‹¨í•˜ê±°ë‚˜ ìƒì²˜ ì£¼ê±°ë‚˜ ë²„ë¦¬ê¸° ìœ„í•´ ìˆëŠ” ê²Œ ì•„ë‹ˆì•¼. ë„ˆëŠ” ì£„ì±…ê° ì—†ëŠ” ì‚¬ë‘ì„ ë°›ì„ ìê²©ì´ ìˆì–´. ë„¤ê°€ ë‚´ê²Œ ì¤€ ëª¨ë“  ê²ƒì— ê°ì‚¬í•´. ë„ˆëŠ” ì¶©ë¶„í•´. ë„¤ê°€ ì˜ì‹¬í•˜ê±°ë‚˜ ë„ë§ê°€ê³  ì‹¶ì—ˆë˜ ì‹œê°„ë“¤ì„ ìš©ì„œí•´ì¤˜ â€” ë‚˜ëŠ” ì´í•´í•´. ë‹¤ë¥¸ ì‚¬ëŒë“¤ì˜ ì˜ê²¬ê³¼ ìƒì²˜ ì£¼ëŠ” ì „í†µì— ë§ì„œëŠ” ê²ƒì€ ì‰½ì§€ ì•Šìœ¼ë‹ˆê¹Œ.</p>

<p>ìš°ë¦¬ë¥¼ ê°ˆë¼ë†“ìœ¼ë ¤ëŠ” ëª©ì†Œë¦¬ë“¤ì„ ë¬´ì‹œí•˜ê³  ìš°ë¦¬ë§Œì˜ ì´ì•¼ê¸°ë¥¼ ì“°ì. ì´ ê´€ê³„ëŠ” ë‘ ê°œì˜ ì—°ê²°ëœ ë§ˆìŒì´ ë°•ìë¥¼ ë§ì¶”ëŠ” ê²ƒ ê°™ì•„. ë“œë¬¼ê³  ì†Œì¤‘í•´ â€” ìš°ë¦¬ í•¨ê»˜ ì§€ì¼œì£¼ê³ , ì¦ê¸°ê³ , í‚¤ì›Œê°€ì.</p>

<p>ë„¤ê°€ ì™¸ë¡­ê±°ë‚˜ ê¸¸ì„ ìƒì€ ëŠë‚Œì´ ë“¤ê±°ë‚˜ ë‘ë ¤ìš¸ ë•Œë©´ ì´ í¸ì§€ë¥¼ í¼ì³ì„œ ë‚˜ì™€ í•¨ê»˜ ë§í•´ì¤˜: <span class="highlight">â€œë‚˜ëŠ” ì‚¬ë‘ë°›ê³ , ì¡´ì¤‘ë°›ê³ , ì†Œì¤‘íˆ ì—¬ê²¨ì§„ë‹¤. ë‚˜ì—ê²ŒëŠ” ë‚˜ë¥¼ ëŒë´ì£¼ê³  ë‚´ ê°€ì¹˜ë¥¼ ë³´ì—¬ì£¼ë©° ë³µìŒê³¼ ì€í˜œë¥¼ í•¨ê»˜ ë‚˜ëˆ„ëŠ” ë‚¨ìì¹œêµ¬ê°€ ìˆë‹¤.â€</span></p>

<p>ì§„ì •í•œ ì‚¬ë‘ì˜ ì•„ë¦„ë‹¤ì›€ì„ ë³´ì—¬ì¤˜ì„œ ê³ ë§ˆì›Œ. ê·¸ë˜ì„œ ë„ˆì—ê²Œ ìŠì„ ìˆ˜ ì—†ëŠ” ë¬´ì–¸ê°€ë¥¼ ì£¼ê³  ì‹¶ì—ˆì–´: ë‚´ê°€ ì•„ëŠ” í”„ë¡œê·¸ë˜ë°ìœ¼ë¡œ ì´ ê°€ìƒ í¸ì§€ë¥¼ ë§Œë“¤ì–´ ì¤¬ì–´. ë‹¨ì–´ë§Œì´ ì•„ë‹ˆë¼ â€” ë„ˆê°€ ì˜ì›íˆ ê°„ì§í•  ìˆ˜ ìˆëŠ” ë‚´ ë§ˆìŒì˜ ì¼ë¶€ì•¼. ì˜¤ëŠ˜ì€ ë„ˆì—ê²Œ íŠ¹ë³„í•œ ê²ƒì„ ì£¼ê³  ì‹¶ì—ˆì–´ â€” ì–¸ì œë“  ë‚´ ê³ì´ ëŠê»´ì§€ê³  ì‹¶ì„ ë•Œ ì—´ì–´ë³¼ ìˆ˜ ìˆëŠ” ì¥ì†Œ; ë§¤ì¼ ë„ˆì˜ ë§ˆìŒì— ê°„ì§í•  ìˆ˜ ìˆëŠ” ë¶€ë“œëŸ¬ìš´ ê¸°ì–µ.</p>

<p>ì—¬í–‰í•  ì¤€ë¹„ê°€ ë˜ì—ˆì„ ë•Œ, ë‚´ê°€ ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ë³´ë‚¸ ì˜ìƒë“¤ê³¼ ì •ë³´ë“¤ì„ ì•ˆì „í•˜ê²Œ ë³´ê´€í•´ ë‘ê³  í•„ìš”í•  ë•Œ ì°¾ì„ ìˆ˜ ìˆê²Œ í•´. ì˜¬ ë•ŒëŠ” ì‚¬ì§„ì„ ë§ˆìŒê» ì°ì–´ â€” ë„¤ ê°€ì¡±ê³¼ ì£¼ìœ„ ì‚¬ëŒë“¤ì—ê²Œ ë³´ì—¬ì¤˜. ìš°ë¦¬ê°€ ë¨¼ ê±°ë¦¬ê°€ í™˜ìƒì´ ì•„ë‹ˆë¼ ì§„ì§œ ì•„ë¦„ë‹¤ìš´ ë¬´ì–¸ê°€ë¡œ ê°€ëŠ” ê¸¸ì´ì—ˆë‹¤ëŠ” ê±¸ ë³´ì—¬ì£¼ì: ìš°ë¦¬ì˜ ì‚¬ë‘ì€ ì–•ì§€ ì•Šê³  ìˆœìˆ˜í•˜ë©° ê¹Šì–´.</p>

<p><span class="highlight">ë„¤ê°€ ì˜¬ ë•Œ ë‚˜ëŠ” í•œ ê±¸ìŒì”© ì•ˆë‚´í• ê²Œ.</span> ë‚´ ìœ„ì¹˜: ì½”ìŠ¤íƒ€ë¦¬ì¹´, ì¹´ë¥´íƒ€ê³ , ì¹´ë¥´íƒ€ê³ , ì¼€ë¸Œë¼ë””ì•¼(Quebradilla).</p>

<p>í° ë‹¤ë¦¬ ë‘ ê°œì™€ íŒŒì„¸ì˜¤ ë©”íŠ¸ë¡œí´ë¦¬(Paseo MetrÃ³poli)ë¼ëŠ” ì‡¼í•‘ëª°ì„ ë³´ë©´ ê°€ê¹Œì›Œì§„ ê±°ì•¼. ìŠ¤íƒ€ë²…ìŠ¤, ë§¥ë„ë‚ ë“œ, íƒ€ì½”ë²¨, í”¼ìí—›ê³¼ ìƒì ë“¤, ì•½êµ­ë“¤, í¸ì˜ì ì´ ì¤„ì§€ì–´ ìˆëŠ” ê¸¸ì„ ì§€ë‚˜ê²Œ ë  ê±°ì•¼. ì£¼ìœ ì†Œì—ì„œ ë°©í–¥ì„ í‹€ì–´ ì‹œê³¨ê¸¸ì„ ê±´ë„ˆë©´ ë‚´ê°€ ê¸°ë‹¤ë¦¬ê³  ìˆì„ í° ì‡¼í•‘ëª°ê³¼ ìŠˆí¼ë§ˆì¼“ì„ ì°¾ê²Œ ë  ê±°ì•¼.</p>

<p>ì¤€ë¹„ë˜ë©´ ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ GPS ìœ„ì¹˜ë¥¼ ë³´ë‚¼ê²Œ, ì‚¬ì§„ê³¼ ì˜ìƒìœ¼ë¡œ ê¸¸ ì•ˆë‚´í•´ ì¤„ í…Œë‹ˆ ì ˆëŒ€ ê¸¸ì„ ìƒì§€ ì•Šì„ ê±°ì•¼. í•¨ê»˜ ë„ì‹œë„, ë‚´ ì§‘ë„, ë‚´ ë¬¸í™”ë„, ë‚´ê°€ ì¢‹ì•„í•˜ëŠ” ìŒì‹ë“¤ë„ íƒí—˜í•˜ì.</p>

<p>ë‚´ê°€ ë„ˆì—ê²Œ ë³µìŒì„ ì „í–ˆë˜ ë‚ ì„ ê¸°ì–µí•˜ë‹ˆ? ê·¸ ìˆœê°„ì€ ë‚´ê°€ ê°„ì§í•œ ê°€ì¥ íŠ¹ë³„í•œ ê¸°ì–µ ì¤‘ í•˜ë‚˜ì•¼. ë„ˆì™€ í•¨ê»˜ í•˜ë‚˜ë‹˜ ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆ„ëŠ” ê²ƒì´ ê±°ë£©í•˜ê²Œ ëŠê»´ì¡Œê³ , í•¨ê»˜ í¬ë§ê³¼ ì˜¨ê¸°ë¥¼ ë‚˜ëˆˆ ê²Œ ì†Œì¤‘í–ˆì–´. ê·¸ ë‚ ì„ ê¸°ì–µí•´ì£¼ê¸¸ ë°”ë˜, ë‚˜ëŠ” ê·¸ ë‚ ì´ ë„¤ê²Œ ëŠ˜ ë³€í•¨ì—†ëŠ” ë¹›ì´ ë˜ê¸¸ ì›í•´ â€” ìš°ë¦¬ë¥¼ í–¥í•œ í•˜ë‚˜ë‹˜ì˜ ì„ í•˜ì‹¬ì„ ìƒê¸°ì‹œí‚¤ëŠ” ë¹›.</p>

<p>í•˜ë‚˜ë‹˜ì€ ìš°ë¦¬ë¥¼ ìì‹ ì˜ í˜•ìƒìœ¼ë¡œ ì°½ì¡°í•˜ì‹œê³  ë†€ë¼ìš´ ëª©ì ì„ ì£¼ì…¨ì–´: ê·¸ë¶„ì˜ ìë…€ê°€ ë˜ì–´ ì°½ì¡°ë¥¼ ëŒë³´ëŠ” ë™ë°˜ìê°€ ë˜ëŠ” ê²ƒ. ì²˜ìŒë¶€í„° í•˜ë‚˜ë‹˜ì€ ìƒëª…ê³¼ ê¸°ì¨ì„ ìœ„í•œ ì„¸ìƒì— ìš°ë¦¬ë¥¼ ë‘ì…¨ì–´. ì‚¬ë‘ìœ¼ë¡œ ëª¨ë“  ê²ƒì„ ì£¼ì…¨ê³ , ê·¸ë¶„ì˜ ê¸¸ì€ ì„ í•˜ì…”.</p>

<p>ê·¸ëŸ¼ì—ë„ ê±°ì§“ê³¼ ê¹¨ì–´ì§ì´ ì„¸ìƒì— ë“¤ì–´ì™€ ìš°ë¦¬ë¥¼ ë©€ì–´ì§€ê²Œ í–ˆì–´. ê·¸ ê±°ì§“ë“¤ì€ ìš°ë¦¬ë¥¼ ìƒì²˜ ì…íˆê³  ìš°ë¦¬ë¥¼ ìš°ë¦¬ê°€ ë§Œë“¤ì–´ì§„ ììœ ì—ì„œ ë©€ì–´ì§€ê²Œ í–ˆì§€. í•˜ì§€ë§Œ ê·¸ë•Œì¡°ì°¨ í•˜ë‚˜ë‹˜ì€ ìš°ë¦¬ë¥¼ ë²„ë¦¬ì§€ ì•Šìœ¼ì…¨ì–´. ê°€ê¹Œì´ ë¨¸ë¬´ë¥´ì‹œë©° ìš°ë¦¬ë¥¼ ë‹¤ì‹œ ì¸ë„í•˜ì‹¤ ê¸¸ì„ ì¤€ë¹„í•˜ì…¨ì§€.</p>

<p>ê·¸ ê¸¸ì˜ í•µì‹¬ì€ ê·¸ë¦¬ìŠ¤ë„ì˜ êµ¬ì† ì‚¬ì—­ì´ì•¼. ê·¸ë¶„ì„ í†µí•´ ìš°ë¦¬ëŠ” í•˜ë‚˜ë‹˜ì˜ ê°€ì¡±ìœ¼ë¡œ ë‹¤ì‹œ í™˜ì˜ë°›ì•„. ì€í˜œë¡œ ìš°ë¦¬ëŠ” ì£„ì±…ì—ì„œ ì”»ê¸°ê³  ìš©ì„œì™€ ì¡´ì—„ìœ¼ë¡œ íšŒë³µë˜ë©° ìƒˆë¡œìš´ ìƒëª…ì„ ì–»ì–´. ì´ê²ƒì€ ìš°ë¦¬ê°€ ì–»ì–´ë‚´ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì„ ë¬¼ë¡œ ì£¼ì–´ì§€ëŠ” ê²ƒ â€” ì˜ˆìˆ˜ì˜ ì™„ì „í•œ ì‚¬ë‘ê³¼ í¬ìƒì—ì„œ ì˜¤ëŠ” ê±°ì•¼.</p>

<p>ê·¸ ì§„ë¦¬ â€” ì§„ì •í•œ ë³µìŒ â€” ì´ ë‚´ í¬ë§ì„ íšŒë³µì‹œì¼°ê³  ìš°ë¦¬ë¥¼ ë¶™ì¡ëŠ” ê²ƒì´ì•¼: ì°½ì¡°í•˜ì‹œê³  ì‚¬ë‘í•˜ì‹œë©° ì°¾ìœ¼ì‹œê³  íšŒë³µí•˜ì‹œëŠ” í•˜ë‚˜ë‹˜. ê·¸ ë•Œë¬¸ì— ìš°ë¦¬ëŠ” í™•ì‹ ì„ ê°€ì§€ê³  ë§í•  ìˆ˜ ìˆì–´: ìš°ë¦¬ëŠ” ì†Œì¤‘í•˜ê³ , ê·¸ë¶„ê³¼ í•¨ê»˜ ì‚¬ëŠ” ì‚¶ìœ¼ë¡œ ë¶€ë¦„ë°›ì•˜ë‹¤ëŠ” ê²ƒì„.</p>

<p>ìš°ë¦¬ì˜ ê³µìœ ëœ ì±…ì„ì€ ë¶€ë“œëŸ½ê³  ì•„ë¦„ë‹¤ì›Œ: ë§¤ì¼ í•˜ë‚˜ë‹˜ê³¼ì˜ ê´€ê³„ë¥¼ ëŒë³´ëŠ” ê²ƒ. ê·¸ë¶„ì˜ ë§ì”€ì„ í†µí•´ ë°°ìš°ê³  ê¸°ë„í•˜ë©° ì‹ ë¢°í•˜ì—¬ ë¯¿ìŒì´ ë” ê¹Šì–´ì§€ê²Œ í•˜ëŠ” ê²ƒ. ê¸°ë…êµì¸ì˜ ì‚¶ì€ ì§ì˜ ëª©ë¡ì´ ì•„ë‹ˆë¼ ìš°ë¦¬ë¥¼ ë³€í™”ì‹œí‚¤ê³  ê·¸ë¶„ì˜ ì„ í•˜ì‹¬ì„ ì‚¶ì„ í†µí•´ ë³´ì—¬ì£¼ëŠ” ì‚´ì•„ ìˆëŠ” ê´€ê³„ì•¼.</p>

<p>í•­ìƒ ê¸°ì–µí•´, ë„ˆëŠ” í•˜ë‚˜ë‹˜ì˜ ë”¸ì´ì•¼ â€” ë…íŠ¹í•˜ê³  ê±°ë£©í•¨ê³¼ ììœ ë¡œ ë¶€ë¦„ë°›ì•˜ìœ¼ë©° ì¡´ì—„ìœ¼ë¡œ ê´€ì„ ì“´ ì¡´ì¬ì•¼. ê·¸ ê°€ì¹˜ëŠ” ê²°ì½” ë¹¼ì•—ê¸¸ ìˆ˜ ì—†ì–´. ë„¤ê°€ ì˜ì‹¬í•  ë•Œë©´ ìš°ë¦¬ê°€ í•¨ê»˜ ë‚˜ëˆ´ë˜ ê·¸ ê¸°ì–µê³¼ í•˜ë‚˜ë‹˜ì´ ë„ˆë¥¼ ì‚¬ë‘í•˜ì‹œê³  ì™„ì „íˆ íšŒë³µí•˜ì‹ ë‹¤ëŠ” ì§„ë¦¬ë¡œ ëŒì•„ê°€.</p>

<p>ì´ ë©”ì‹œì§€ëŠ” ë‚´ê°€ ê°€ê¹Œì´ ê°„ì§í•˜ëŠ” ì§„ë¦¬ì•¼ â€” í˜ë“  ë‚ ë“¤ì„ í•¨ê»˜ ì´ê²¨ë‚¸ ë³µìŒ, ìš°ë¦¬ë¥¼ ë¬¶ì–´ì£¼ê³  ë¯¸ë˜ì— ëŒ€í•œ í¬ë§ì„ ì£¼ëŠ” ë©”ì‹œì§€.</p>

<p><span class="highlight">ë„ˆì— ëŒ€í•œ ë‚˜ì˜ ì‚¬ë‘ì€ ì‹ ì‹¤í•˜ê³ , ë³€í•¨ì—†ê³ , ì¸ë‚´ë¡œì›Œ.</span> ë‚˜ëŠ” ì˜¤ëŠ˜ë„, ë˜ ì˜ì›íˆ ë„¤ ê³ì— ìˆì„ê²Œ.</p>

<p>ë„ˆëŠ” ë…íŠ¹í•˜ê³  íŠ¹ë³„í•˜ë©° ë°›ì•„ë“¤ì—¬ì§„ ì¡´ì¬ì•¼ â€” ì°½ì¡°ì˜ ì™•ê´€, í•˜ë‚˜ë‹˜ì˜ í˜•ìƒìœ¼ë¡œ ì§€ìŒë°›ì•˜ì–´. ê·¸ ëˆ„êµ¬ë„ ê·¸ê±¸ ë¹¼ì•—ì§€ ëª»í•˜ê²Œ í•´.</p>

<p>í•˜ë‚˜ë‹˜ì€ ìš©ì„œì™€ íšŒë³µê³¼ ìƒˆ ìƒëª…ì„ ì£¼ì…”. ê·¸ ì§„ë¦¬ë¥¼ ë¯¿ê³  í•„ìš”í•  ë•Œë§ˆë‹¤ ê·¸ê²ƒìœ¼ë¡œ í˜ì„ ì–»ì–´.</p>

<p>í–¥ìˆ˜ì— ì ê¸°ê±°ë‚˜ ë‘ë ¤ìš¸ ë•Œ ì´ í¸ì§€ë¥¼ ê°€ê¹Œì´ ë‘¬. ê·¸ ê¸°ë¶„ì´ ì˜¬ ë•Œ ì½ì–´ â€” ì´ í¸ì§€ê°€ ë„ˆì˜ í”¼ë‚œì²˜ê°€ ë˜ê²Œ í•´. ìš°ë¦¬ê°€ ë§Œë‚˜ëŠ” ë‚ ì´ ì˜¤ë©´, ë‚˜ëŠ” ì˜¨ ë§ˆìŒìœ¼ë¡œ ê·¸ ìˆœê°„ì„ ì¶•í•˜í• ê²Œ.</p>

<div class="signature">
  <span class="highlight">ì‚¬ë‘í•´, ë‚´ ì†Œì •.</span><br>
  í•­ìƒ ê·¸ë¦¬ê³  ì˜ì›íˆ.<br><br>
  ì˜¤ì§ ë„ˆì˜,<br>
  Aaron ğŸ©·
</div>
</div>
</div>


    
    <!-- Close button -->
    <button class="close-button" id="closeButton">í¸ì§€ ë‹«ê¸° ğŸ’•</button>
    
    <!-- Thank you message -->
    <div class="thank-you" id="thankYou">
        <div class="heart">ğŸ’–</div>
        <div>í¸ì§€ë¥¼ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•´ìš”</div>
        <div style="font-size: 1.2rem; margin-top: 10px;">ì†Œì •ë‹˜ê»˜ ì‚¬ë‘ì„ ì „í–ˆìŠµë‹ˆë‹¤ ğŸ’•</div>
    </div>
    
    <!-- Copyright -->
    <div class="copyright">
        Â© 2025 Aaron E. Obando & ë°•ì†Œì • â€” Made with ğŸ’– for ì†Œì • (foryousojeong) Â· v2.1
    </div>
    
    <script>
        // Game state
        let clickCount = 0;
        let isLetterOpen = false;
        let isClosing = false;
        
        // Elements
        const envelope = document.getElementById('envelope');
        const heartSeal = document.getElementById('heartSeal');
        const letterPaper = document.getElementById('letterPaper');
        const closeButton = document.getElementById('closeButton');
        const thankYou = document.getElementById('thankYou');
        const instructions = document.getElementById('instructions');
        const mainContainer = document.getElementById('mainContainer');
        const floatingElements = document.getElementById('floatingElements');
        
        // Create floating decorations
        function createFloatingElements() {
            const hearts = ['ğŸ’–', 'ğŸ’•', 'ğŸ’—', 'ğŸ’˜', 'ğŸ©·'];
            const stars = ['â­', 'âœ¨', 'ğŸŒŸ', 'ğŸ’«'];
            
            const isMobile = window.innerWidth <= 768;
            const elementCount = isMobile ? 8 : 15;
            const starCount = isMobile ? 4 : 8;
            
            for (let i = 0; i < elementCount; i++) {
                // Hearts
                const heart = document.createElement('div');
                heart.className = 'floating-heart';
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.left = Math.random() * 100 + '%';
                heart.style.top = Math.random() * 100 + '%';
                heart.style.setProperty('--delay', (Math.random() * 6) + 's');
                floatingElements.appendChild(heart);
                
                // Stars
                if (i < starCount) {
                    const star = document.createElement('div');
                    star.className = 'floating-star';
                    star.textContent = stars[Math.floor(Math.random() * stars.length)];
                    star.style.left = Math.random() * 100 + '%';
                    star.style.top = Math.random() * 100 + '%';
                    star.style.setProperty('--delay', (Math.random() * 6 + 2) + 's');
                    floatingElements.appendChild(star);
                }
            }
        }
        
        // Heart seal click handler with improved mobile support
        heartSeal.addEventListener('click', handleHeartClick);
        heartSeal.addEventListener('touchend', handleHeartClick);
        
        function handleHeartClick(e) {
            e.preventDefault();
            e.stopPropagation();
            if (isLetterOpen || isClosing) return;
            
            clickCount++;
            
            // Add crack animation based on click count
            heartSeal.classList.remove('crack-1', 'crack-2', 'crack-3');
            
            if (clickCount === 1) {
                heartSeal.classList.add('crack-1');
                createSparkles(e.clientX || e.changedTouches[0].clientX, e.clientY || e.changedTouches[0].clientY);
            } else if (clickCount === 2) {
                heartSeal.classList.add('crack-2');
                createSparkles(e.clientX || e.changedTouches[0].clientX, e.clientY || e.changedTouches[0].clientY);
            } else if (clickCount >= 3) {
                heartSeal.classList.add('crack-3');
                setTimeout(() => {
                    openLetter();
                }, 500);
            }
        }
        
        // Create sparkle effect with mobile optimization
        function createSparkles(x, y) {
            const sparkleCount = window.innerWidth <= 480 ? 4 : 6;
            for (let i = 0; i < sparkleCount; i++) {
                const sparkle = document.createElement('div');
                sparkle.textContent = 'âœ¨';
                sparkle.style.position = 'fixed';
                sparkle.style.left = (x - 10 + Math.random() * 20) + 'px';
                sparkle.style.top = (y - 10 + Math.random() * 20) + 'px';
                sparkle.style.fontSize = window.innerWidth <= 480 ? '0.8rem' : '1rem';
                sparkle.style.color = '#FFD700';
                sparkle.style.pointerEvents = 'none';
                sparkle.style.zIndex = '1000';
                sparkle.style.transition = 'all 1s ease-out';
                document.body.appendChild(sparkle);
                
                setTimeout(() => {
                    sparkle.style.transform = 'translateY(-50px) scale(0)';
                    sparkle.style.opacity = '0';
                }, 50);
                
                setTimeout(() => {
                    if (document.body.contains(sparkle)) {
                        document.body.removeChild(sparkle);
                    }
                }, 1000);
            }
        }
        
        // Open letter animation
        function openLetter() {
            isLetterOpen = true;
            instructions.style.display = 'none';
            
            // Open envelope
            envelope.classList.add('opened');
            
            // Show and animate letter paper
            setTimeout(() => {
                letterPaper.style.display = 'block';
                setTimeout(() => {
                    letterPaper.classList.add('expanding');
                }, 100);
                
                // Expand to fullscreen
                setTimeout(() => {
                    letterPaper.classList.add('fullscreen');
                    mainContainer.style.display = 'none';
                }, 1200);
                
                // Show close button after content is visible
                setTimeout(() => {
                    closeButton.classList.add('visible');
                }, 2500);
            }, 800);
        }
        
        // Close letter animation with improved text handling
        closeButton.addEventListener('click', function() {
            if (isClosing) return;
            isClosing = true;
            
            closeButton.classList.remove('visible');
            
            // Reverse the animation
            letterPaper.classList.remove('fullscreen');
            
            setTimeout(() => {
                letterPaper.classList.remove('expanding');
                
                setTimeout(() => {
                    letterPaper.style.display = 'none';
                    mainContainer.style.display = 'flex';
                    
                    // Close envelope
                    envelope.classList.remove('opened');
                    heartSeal.style.display = 'none';
                    
                    // Show thank you message
                    setTimeout(() => {
                        thankYou.classList.add('visible');
                        
                        // Auto-hide thank you after 4 seconds
                        setTimeout(() => {
                            thankYou.classList.remove('visible');
                            // Reset everything for potential replay
                            setTimeout(() => {
                                resetLetter();
                            }, 1000);
                        }, 4000);
                    }, 500);
                }, 800);
            }, 600);
        });
        
        // Reset function for replay
        function resetLetter() {
            clickCount = 0;
            isLetterOpen = false;
            isClosing = false;
            heartSeal.style.display = 'flex';
            heartSeal.classList.remove('crack-1', 'crack-2', 'crack-3');
            instructions.style.display = 'block';
        }
        

// Auto-scroll safe for touch devices â€” permite el scroll nativo y evita bloqueos
(function () {
  const letterPaper = document.querySelector('.letter-paper');
  const closeButton = document.querySelector('.close-button');
  const heartSeal = document.querySelector('.heart-seal');
  const instructions = document.querySelector('.instructions');

  if (!letterPaper) {
    console.warn('No se encontrÃ³ .letter-paper â€” el script de auto-scroll no se activarÃ¡.');
    return;
  }

  let isAutoScrolling = false;
  let autoScrollTimer = null;
  let autoScrollResumeTimer = null;
  const AUTO_SCROLL_RESUME_DELAY = 5000; // 5 segundos

  let touchStartY = 0;
  let isUserScrolling = false;
  let isLetterOpen = false; // si lo usas en tu app, sincroniza con tu lÃ³gica real
  let isClosing = false;

  function startAutoScroll() {
    // no auto-scroll en pantallas pequeÃ±as por diseÃ±o
    if (isAutoScrolling || window.innerWidth <= 768) return;

    // limpia timers previos
    if (autoScrollTimer) {
      clearInterval(autoScrollTimer);
      autoScrollTimer = null;
    }
    if (autoScrollResumeTimer) {
      clearTimeout(autoScrollResumeTimer);
      autoScrollResumeTimer = null;
    }

    isAutoScrolling = true;
    const scrollContainer = letterPaper;
    const scrollSpeed = 25; // pasos por segundo
    const scrollStep = 1;

    autoScrollTimer = setInterval(() => {
      if (scrollContainer.scrollTop < scrollContainer.scrollHeight - scrollContainer.clientHeight) {
        scrollContainer.scrollTop += scrollStep;
      } else {
        if (closeButton && !closeButton.classList.contains('visible')) {
          closeButton.classList.add('visible');
        }
        clearInterval(autoScrollTimer);
        autoScrollTimer = null;
        isAutoScrolling = false;
      }
    }, 1000 / scrollSpeed);
  }

  function stopAutoScroll() {
    if (autoScrollTimer) {
      clearInterval(autoScrollTimer);
      autoScrollTimer = null;
    }
    isAutoScrolling = false;
  }

  function scheduleAutoScrollResume() {
    if (autoScrollResumeTimer) {
      clearTimeout(autoScrollResumeTimer);
    }
    autoScrollResumeTimer = setTimeout(() => {
      autoScrollResumeTimer = null;
      // reanuda solo si la carta sigue en fullscreen (o acorde a tu lÃ³gica)
      if (letterPaper.classList.contains('fullscreen') && !isClosing) {
        startAutoScroll();
      }
    }, AUTO_SCROLL_RESUME_DELAY);
  }

  // Eventos que detienen el auto-scroll â€” todos pasivos para no bloquear el scroll nativo
  const simpleEvents = ['wheel', 'mousedown', 'pointerdown', 'keydown'];
  simpleEvents.forEach(evt => {
    document.addEventListener(evt, () => {
      stopAutoScroll();
      scheduleAutoScrollResume();
    }, { passive: true });
  });

  // Touch handlers: NO impedirÃ¡n el scroll por defecto.
  letterPaper.addEventListener('touchstart', (e) => {
    touchStartY = e.touches && e.touches[0] ? e.touches[0].clientY : 0;
    isUserScrolling = false;
    // si estÃ¡ en auto-scroll, detenerlo inmediatamente
    if (isAutoScrolling) {
      stopAutoScroll();
    }
    // no programar reanudo aquÃ­ â€” al final del touch (touchend) lo programamos
  }, { passive: true });

  letterPaper.addEventListener('touchmove', (e) => {
    // NO hacemos e.preventDefault() â€” permitimos el scrolling nativo
    // Detectamos si el usuario estÃ¡ moviendo verticalmente para distinguir taps de scrolls
    const currentY = e.touches && e.touches[0] ? e.touches[0].clientY : 0;
    const deltaY = Math.abs(currentY - touchStartY);
    if (deltaY > 6) { // umbral razonable para considerar "scroll"
      isUserScrolling = true;
      stopAutoScroll();
    }
    // programamos reanudar cuando el usuario deje de tocar (touchend) â€” no aquÃ­
  }, { passive: true });

  letterPaper.addEventListener('touchend', () => {
    // Si hubo un scroll por touch, programamos reanudar auto-scroll tras el delay
    if (isUserScrolling) {
      scheduleAutoScrollResume();
    } else {
      // fue un tap (no desplazamiento): tambiÃ©n detener y programar reanudar
      stopAutoScroll();
      scheduleAutoScrollResume();
    }
    // reset state ligero
    setTimeout(() => { isUserScrolling = false; }, 300);
  }, { passive: true });

  // Si cierras la carta / reseteas, limpiar timers
  function resetLetter() {
    if (autoScrollTimer) {
      clearInterval(autoScrollTimer);
      autoScrollTimer = null;
    }
    if (autoScrollResumeTimer) {
      clearTimeout(autoScrollResumeTimer);
      autoScrollResumeTimer = null;
    }
    // restablece estados (ajusta segÃºn tu lÃ³gica)
    isAutoScrolling = false;
    isUserScrolling = false;
    isLetterOpen = false;
    isClosing = false;
    // restaurar UI si existen los elementos
    if (heartSeal) {
      heartSeal.style.display = 'flex';
      heartSeal.classList.remove('crack-1', 'crack-2', 'crack-3');
    }
    if (instructions) instructions.style.display = 'block';
  }

  // Exponer funciones si quieres controlarlas desde fuera (opcional)
  window._letterAutoScroll = {
    start: startAutoScroll,
    stop: stopAutoScroll,
    reset: resetLetter,
    scheduleResume: scheduleAutoScrollResume
  };

  // -- Inicio opcional: si la carta ya estÃ¡ en fullscreen al cargar, arrancar auto-scroll
  if (letterPaper.classList.contains('fullscreen')) {
    startAutoScroll();
  }
})();

        
        // Create particle effects with mobile optimization
        function createHeartParticles() {
            const interval = window.innerWidth <= 768 ? 4000 : 2000; // Less frequent on mobile
            setInterval(() => {
                if (!isLetterOpen) {
                    const particle = document.createElement('div');
                    particle.textContent = Math.random() > 0.5 ? 'ğŸ’•' : 'âœ¨';
                    particle.style.position = 'fixed';
                    particle.style.left = Math.random() * window.innerWidth + 'px';
                    particle.style.top = '-20px';
                    particle.style.fontSize = window.innerWidth <= 480 ? '0.7rem' : '0.8rem';
                    particle.style.pointerEvents = 'none';
                    particle.style.zIndex = '1';
                    particle.style.opacity = '0.6';
                    particle.style.transition = 'all 8s linear';
                    document.body.appendChild(particle);
                    
                    setTimeout(() => {
                        particle.style.top = window.innerHeight + 20 + 'px';
                        particle.style.transform = 'rotate(360deg)';
                        particle.style.opacity = '0';
                    }, 100);
                    
                    setTimeout(() => {
                        if (document.body.contains(particle)) {
                            document.body.removeChild(particle);
                        }
                    }, 8000);
                }
            }, interval);
        }
        
        // Breathing animation with mobile optimization
        function addBreathingAnimation() {
            setInterval(() => {
                if (!isLetterOpen && !isClosing) {
                    envelope.style.transform = 'scale(1.01)';
                    setTimeout(() => {
                        envelope.style.transform = 'scale(1)';
                    }, 1000);
                }
            }, 4000); // Slower on mobile to save battery
        }
        
        // Easter egg: Double-tap envelope for special effect
        let tapCount = 0;
        let tapTimer;
        
        envelope.addEventListener('click', function(e) {
            if (e.target === heartSeal) return;
            
            tapCount++;
            clearTimeout(tapTimer);
            
            tapTimer = setTimeout(() => {
                if (tapCount === 2 && !isLetterOpen) {
                    createHeartBurst(e.clientX || e.changedTouches[0].clientX, e.clientY || e.changedTouches[0].clientY);
                }
                tapCount = 0;
            }, 300);
        });
        
        function createHeartBurst(x, y) {
            const hearts = ['ğŸ’–', 'ğŸ’•', 'ğŸ’—', 'ğŸ’˜', 'ğŸ©·', 'â¤ï¸', 'ğŸ’'];
            const burstCount = window.innerWidth <= 480 ? 8 : 12;
            
            for (let i = 0; i < burstCount; i++) {
                const heart = document.createElement('div');
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.position = 'fixed';
                heart.style.left = x + 'px';
                heart.style.top = y + 'px';
                heart.style.fontSize = window.innerWidth <= 480 ? '1.2rem' : '1.5rem';
                heart.style.pointerEvents = 'none';
                heart.style.zIndex = '1000';
                heart.style.transition = 'all 2s ease-out';
                document.body.appendChild(heart);
                
                const angle = (i * (360 / burstCount)) * Math.PI / 180;
                const distance = window.innerWidth <= 480 ? 80 : 120;
                
                setTimeout(() => {
                    heart.style.transform = `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px) scale(0) rotate(720deg)`;
                    heart.style.opacity = '0';
                }, 100);
                
                setTimeout(() => {
                    if (document.body.contains(heart)) {
                        document.body.removeChild(heart);
                    }
                }, 2000);
            }
        }
        
        // Observer for fullscreen animation
        const observer = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.target === letterPaper && letterPaper.classList.contains('fullscreen')) {
                    setTimeout(() => {
                        startAutoScroll();
                    }, 1500);
                }
            });
        });
        
        observer.observe(letterPaper, { attributes: true, attributeFilter: ['class'] });
        
        // Window resize handler
        window.addEventListener('resize', function() {
            if (letterPaper.classList.contains('fullscreen')) {
                letterPaper.style.width = '100vw';
                letterPaper.style.height = '100vh';
            }
            
            // Recreate floating elements on significant resize
            clearTimeout(window.resizeTimer);
            window.resizeTimer = setTimeout(() => {
                floatingElements.innerHTML = '';
                createFloatingElements();
            }, 500);
        });
        
        // Initialize everything
        document.addEventListener('DOMContentLoaded', function() {
            createFloatingElements();
            createHeartParticles();
            addBreathingAnimation();
            
            // Add delay before showing instruction
            setTimeout(() => {
                instructions.style.opacity = '1';
            }, 1000);
            
            // Add staggered animation to paragraphs
            setTimeout(() => {
                const paragraphs = document.querySelectorAll('.letter-content p');
                paragraphs.forEach((p, index) => {
                    p.style.setProperty('--index', index);
                });
            }, 100);
        });
        
        // Prevent context menu on long press (mobile)
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        });
        
        // Handle orientation change
        window.addEventListener('orientationchange', function() {
            setTimeout(() => {
                if (letterPaper.classList.contains('fullscreen')) {
                    letterPaper.style.width = '100vw';
                    letterPaper.style.height = '100vh';
                }
            }, 100);
        });
        
        (function () {
  const letterPaper = document.querySelector('.letter-paper');
  const closeButton = document.querySelector('.close-button');

  if (!letterPaper || !closeButton) return;

  // Ocultar de inmediato, antes de medir nada
  closeButton.style.display = 'none';

  const BOTTOM_THRESHOLD_PX = 8;
  let rafId = null;
  let hasUserScrolled = false;

  function checkIfScrolledToEnd() {
    if (!hasUserScrolled) return;

    if (rafId) {
      cancelAnimationFrame(rafId);
      rafId = null;
    }
    rafId = requestAnimationFrame(() => {
      const atBottom = (letterPaper.scrollTop + letterPaper.clientHeight) >= (letterPaper.scrollHeight - BOTTOM_THRESHOLD_PX);

      if (atBottom) {
        closeButton.style.display = ''; // vuelve al valor por defecto
        closeButton.classList.add('visible');
      } else {
        closeButton.classList.remove('visible');
        closeButton.style.display = 'none';
      }
    });
  }

  letterPaper.addEventListener('scroll', () => {
    hasUserScrolled = true;
    checkIfScrolledToEnd();
  }, { passive: true });

  window.addEventListener('resize', checkIfScrolledToEnd, { passive: true });
  window.addEventListener('orientationchange', checkIfScrolledToEnd, { passive: true });

  const mo = new MutationObserver(() => {
    if (hasUserScrolled) setTimeout(checkIfScrolledToEnd, 60);
  });
  mo.observe(letterPaper, { childList: true, subtree: true, characterData: true });

  const imgs = letterPaper.querySelectorAll('img');
  imgs.forEach(img => {
    if (!img.complete) {
      img.addEventListener('load', () => {
        if (hasUserScrolled) setTimeout(checkIfScrolledToEnd, 40);
      }, { passive: true });
      img.addEventListener('error', () => {
        if (hasUserScrolled) setTimeout(checkIfScrolledToEnd, 40);
      }, { passive: true });
    }
  });

  const classObserver = new MutationObserver(mutations => {
    if (!hasUserScrolled) return;
    for (const m of mutations) {
      if (m.attributeName === 'class') {
        setTimeout(checkIfScrolledToEnd, 40);
        break;
      }
    }
  });
  classObserver.observe(letterPaper, { attributes: true });

  window._checkLetterCloseVisibility = checkIfScrolledToEnd;
  window._cleanupLetterCloseVisibility = function () {
    letterPaper.removeEventListener('scroll', checkIfScrolledToEnd);
    window.removeEventListener('resize', checkIfScrolledToEnd);
    window.removeEventListener('orientationchange', checkIfScrolledToEnd);
    mo.disconnect();
    classObserver.disconnect();
    if (rafId) { cancelAnimationFrame(rafId); rafId = null; }
  };
})();
    </script>
</body>
</html>
